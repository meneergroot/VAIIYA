(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{98:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5155),a=s(2115),n=s(5695),o=s(2108);function i(){let e=(0,n.useRouter)(),{data:t}=(0,o.useSession)(),[s,i]=(0,a.useState)(null);if(!t)return e.push("/login"),null;let l=async t=>{t.preventDefault();let s=new FormData(t.currentTarget),r=s.get("name"),a=s.get("description");try{let t=await fetch("/api/communities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,description:a})});if(!t.ok){let e=await t.json();throw Error(e.message||"Something went wrong")}let s=await t.json();e.push("/r/".concat(s.community.name))}catch(e){e instanceof Error?i(e.message):i("An error occurred. Please try again.")}};return(0,r.jsx)("div",{className:"max-w-2xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Create a Community"}),(0,r.jsxs)("form",{onSubmit:l,className:"space-y-6",children:[s&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:s}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"name",id:"name",required:!0,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Community name"})}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Community names cannot be changed after creation."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("textarea",{name:"description",id:"description",rows:3,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"What's your community about?"})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Community"})})]})]})})}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},9135:(e,t,s)=>{Promise.resolve().then(s.bind(s,98))}},e=>{var t=t=>e(e.s=t);e.O(0,[108,441,684,358],()=>t(9135)),_N_E=e.O()}]);